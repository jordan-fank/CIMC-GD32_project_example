# 智能终端管理系统 - 快速开始指南

## 🎯 第一步：安装依赖

打开命令行，进入 `web/backend` 目录：

```bash
cd web/backend
npm install
```

等待依赖安装完成（首次运行需要下载约 1MB 的包）。

---

## 🚀 第二步：启动服务器

### Windows 用户（推荐）

双击运行 `web/start.bat` 文件，系统会自动：
1. 检查依赖是否已安装
2. 启动 WebSocket 服务器（端口 8080）
3. 启动 HTTP 服务器（端口 3000）

### 所有平台通用

在 `web/backend` 目录下运行：

```bash
npm start
```

你会看到类似这样的输出：

```
==================================================
  智能终端管理系统 - 服务启动器
==================================================

[启动] 正在启动 WebSocket 服务器...
===========================================
  智能终端管理系统 - WebSocket服务器
===========================================
  WebSocket地址: ws://localhost:8080
  HTTP状态页面: http://localhost:8080
  心跳间隔: 30秒
===========================================

[启动] 正在启动 HTTP 服务器...
===========================================
  智能终端管理系统 - HTTP服务器
===========================================
  访问地址: http://localhost:3000
  前端目录: c:\Users\HP\Desktop\CIMC_xi\web\frontend
===========================================

提示: 请确保WebSocket服务器也在运行中

[提示] 按 Ctrl+C 停止所有服务器
```

---

## 🌐 第三步：访问前端页面

打开浏览器，访问：

```
http://localhost:3000
```

或者使用本机 IP 地址（方便其他设备访问）：

```
http://192.168.x.x:3000
```

**查看本机IP地址**：
- Windows: 打开命令行运行 `ipconfig`
- Linux/Mac: 打开终端运行 `ifconfig` 或 `ip addr`

---

## 📡 第四步：连接 WebSocket 服务器

在浏览器打开的页面中：

1. **服务器地址**：输入 `localhost`（或服务器IP地址）
2. **端口**：输入 `8080`
3. 点击 **"连接服务器"** 按钮

如果连接成功，页面右上角会显示绿色的"已连接"状态。

---

## 💬 第五步：发送和接收消息

### 测试单客户端

1. 在"发送消息"框中输入任意文本
2. 点击"发送"按钮
3. 观察"消息日志"区域

### 测试多客户端转发

1. 打开多个浏览器标签页（或不同浏览器）
2. 都访问 `http://localhost:3000` 并连接到服务器
3. 在任意一个客户端发送消息
4. **观察其他客户端是否实时收到消息**

这就是 WebSocket 实时数据转发的效果！

---

## 🛑 停止服务器

在运行服务器的命令行窗口中：

- 按 **Ctrl + C** 停止所有服务器
- 或者直接关闭命令行窗口

---

## 🔧 高级配置

### 修改端口号

编辑以下文件：

**WebSocket 端口** (`backend/server.js`):
```javascript
const WS_PORT = 8080;  // 改为你想要的端口
```

**HTTP 端口** (`backend/http-server.js`):
```javascript
const HTTP_PORT = 3000;  // 改为你想要的端口
```

### 远程访问配置

如果需要从其他设备访问：

1. 确保防火墙允许端口 3000 和 8080
2. 查看本机 IP 地址
3. 在其他设备的浏览器中访问 `http://本机IP:3000`
4. 连接时使用本机 IP 地址而非 localhost

---

## ❓ 常见问题

### Q: 提示"端口已被占用"

**解决方法**：
- 检查是否有其他程序占用了 3000 或 8080 端口
- 修改配置文件中的端口号
- Windows: 运行 `netstat -ano | findstr :8080` 查看占用进程
- 使用任务管理器结束占用端口的进程

### Q: 无法连接到 WebSocket

**检查清单**：
- ✅ WebSocket 服务器是否已启动
- ✅ 端口号是否正确（默认 8080）
- ✅ 防火墙是否阻止连接
- ✅ 浏览器控制台是否有报错（按 F12 查看）

### Q: 消息无法转发

**检查清单**：
- ✅ 确认有多个客户端同时连接
- ✅ 查看服务器控制台是否有错误日志
- ✅ 打开浏览器开发者工具（F12）-> Network -> WS 查看 WebSocket 帧

---

## 📚 下一步

- 阅读完整的 [README.md](README.md) 了解更多功能
- 查看源代码理解实现原理
- 根据你的需求扩展功能

---

祝使用愉快！🎉
